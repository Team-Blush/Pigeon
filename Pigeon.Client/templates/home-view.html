<!-- Title -->
<title ng-bind="title"></title>

<!-- Header -->
<div ng-include="'templates/partial/header-view.html'" ng-controller="HeaderController"></div>

<!-- Guest View -->
<div class="container" ng-if="!isLoggedIn">
    <div class="row">
        <div class="box">
            <div class="col-lg-12">
                <hr>
                <h2 class="intro-text text-center">
                    Welcome to
                    <strong>Pigeon</strong>
                </h2>
                <hr>
            </div>
            <div class="col-md-6">
                <img class="img-responsive img-border-left" src="imgs/pigeon.jpg" alt="">
            </div>
            <div class="col-md-6">
                <p>
                    This is a free social network website designed by Team "Blush" at <a href="https://softuni.bg/">Software University</a>
                </p>
                <p>You can follow friends and post pigeons on your own wall. You must register or login for continue.</p>
                <div class="row">
                    <div class="form-group col-lg-4 col-lg-offset-4">
                        <a href="#/login" type="button" class="btn btn-default">Login</a>
                        <a href="#/register" type="button" class="btn btn-default">Register</a>
                    </div>
                </div>
            </div>
            <div class="clearfix"></div>
        </div>
    </div>
</div>

<!-- User View -->
<div class="container" ng-if="isLoggedIn">
    <div class="row">
        <div class="box">
            <div class="row">
                <div class="col-lg-4">
                    <form role="form" class="row">
                        <div class="col-lg-12 text-center">
                            <button type="button" class="btn btn-default" ng-click="expandSearch()">Search People</button>
                            <br />
                            <br />
                            <div class="col-lg-12" ng-if="isSearchExpanded">
                                <input type="text" class="form-control" ng-model="searchData.searchTerm" /><br />
                                <div class="form-group">
                                    <button type="submit" class="btn btn-default" ng-click="search()">Search</button>
                                </div>
                                <hr />
                                <div class="row" ng-repeat="person in people">
                                    <div class="col-lg-12">
                                        <div class="col-lg-4">
                                            <img class="img-small" ng-src="{{person.profilePhotoData}}" />
                                        </div>
                                        <div class="col-lg-4">
                                            <a href="#/{{person.username}}">{{person.username}}</a>
                                        </div>
                                        <div class="col-lg-4">
                                            <p>{{person.firstName + ' ' + person.lastName}}</p>
                                        </div>
                                    </div>
                                    <div class="col-lg-12">
                                        <hr />
                                    </div>
                                </div>
                            </div>
                        </div>
                    </form>
                    <div class="row">
                        <div class="col-lg-12 text-center">
                            <div class="col-lg-12">
                                <h3>Following</h3>
                                <hr />
                                <div class="row" ng-repeat="followingPerson in followingPeople">
                                    <div class="col-lg-12">
                                        <div class="col-lg-4">
                                            <img class="img-small" ng-src="{{followingPerson.profilePhotoData}}" />
                                        </div>
                                        <div class="col-lg-4">
                                            <a href="#/{{followingPerson.username}}">{{followingPerson.username}}</a>
                                        </div>
                                        <div class="col-lg-4">
                                            <p>{{followingPerson.firstName + ' ' + followingPerson.lastName}}</p>
                                        </div>
                                    </div>
                                    <div class="col-lg-12">
                                        <hr />
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-12 text-center">
                            <div class="col-lg-12">
                                <h3>Followers</h3>
                                <hr />
                                <div class="row" ng-repeat="follower in followers">
                                    <div class="col-lg-12">
                                        <div class="col-lg-4">
                                            <img class="img-small" ng-src="{{follower.profilePhotoData}}" />
                                        </div>
                                        <div class="col-lg-4">
                                            <a href="#/{{follower.username}}">{{follower.username}}</a>
                                        </div>
                                        <div class="col-lg-4">
                                            <p>{{follower.firstName + ' ' + follower.lastName}}</p>
                                        </div>
                                    </div>
                                    <div class="col-lg-12">
                                        <hr />
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-8" ng-include="'templates/partial/pigeons-view.html'" ng-controller="PigeonController" ng-init="loadNewsPigeons()"></div>
            </div>
        </div>
    </div>
</div>

<!-- Footer -->
<div ng-include="'templates/partial/footer-view.html'"></div>